
CREATE TABLE ems.bronze.ems_raw (
    BronzeId     BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    RunId        UNIQUEIDENTIFIER NOT NULL,
    FileName     NVARCHAR(500) NOT NULL,
    LoadUtc      DATETIME2(3) NOT NULL DEFAULT SYSUTCDATETIME(),
    SourceRowNum BIGINT NOT NULL,

    -- raw columns (stored as NVARCHAR to preserve source)
    INCIDENT_DT NVARCHAR(500) NULL,
    INCIDENT_COUNTY NVARCHAR(500) NULL,
    CHIEF_COMPLAINT_DISPATCH NVARCHAR(500) NULL,
    CHIEF_COMPLAINT_ANATOMIC_LOC NVARCHAR(500) NULL,
    PRIMARY_SYMPTOM NVARCHAR(500) NULL,
    PROVIDER_IMPRESSION_PRIMARY NVARCHAR(500) NULL,
    DISPOSITION_ED NVARCHAR(500) NULL,
    DISPOSITION_HOSPITAL NVARCHAR(500) NULL,
    INJURY_FLG NVARCHAR(500) NULL,
    NALOXONE_GIVEN_FLG NVARCHAR(500) NULL,
    MEDICATION_GIVEN_OTHER_FLG NVARCHAR(500) NULL,
    DESTINATION_TYPE NVARCHAR(500) NULL,
    PROVIDER_TYPE_STRUCTURE NVARCHAR(500) NULL,
    PROVIDER_TYPE_SERVICE NVARCHAR(500) NULL,
    PROVIDER_TYPE_SERVICE_LEVEL NVARCHAR(500) NULL,
    PROVIDER_TO_SCENE_MINS NVARCHAR(500) NULL,
    PROVIDER_TO_DESTINATION_MINS NVARCHAR(500) NULL,
    UNIT_NOTIFIED_BY_DISPATCH_DT NVARCHAR(500) NULL,
    UNIT_ARRIVED_ON_SCENE_DT NVARCHAR(500) NULL,
    UNIT_ARRIVED_TO_PATIENT_DT NVARCHAR(500) NULL,
    UNIT_LEFT_SCENE_DT NVARCHAR(500) NULL,
    PATIENT_ARRIVED_DESTINATION_DT NVARCHAR(500) NULL,

    CONSTRAINT FK_bronze_EMS_Raw_RunAudit
        FOREIGN KEY (RunId) REFERENCES etl.run_audit(RunId)
);
GO
